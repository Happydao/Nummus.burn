<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NUMMUS — BURN LIVE</title>

<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;}

    body{
        background:black;
        overflow-x:hidden;
        color:#fff;
        text-shadow:0 0 8px #ff0000;
    }

    /* SFONDO VIDEO */
    #bgvid{
        position:fixed;
        top:0; left:0;
        width:100vw;
        height:100vh;
        object-fit:cover;
        z-index:-2;
        filter:brightness(0.55) saturate(1.4);
    }

    /* OVERLAY SCURO */
    #overlay{
        position:fixed;
        top:0;left:0;
        width:100vw;height:100vh;
        background:rgba(0,0,0,0.45);
        z-index:-1;
    }

    /* HEADER CON LOGHI */
    header{
        width:100%;
        padding:20px 0;
        display:flex;
        justify-content:center;
        align-items:center;
        position:relative;
    }

    .logo{
        width:90px;
        height:90px;
        object-fit:contain;
        position:absolute;
        top:10px;
        animation:pulseFire 1.3s infinite alternate;
        filter:drop-shadow(0 0 10px red);
    }

    #logoLeft{ left:20px; }
    #logoRight{ right:20px; }

    @keyframes pulseFire {
        0%{ filter:drop-shadow(0 0 4px #ff0000); transform:scale(1);}
        100%{ filter:drop-shadow(0 0 16px #ff3b00); transform:scale(1.08);}
    }

    /* TITOLO CENTRALE */
    h1{
        font-size:42px;
        letter-spacing:2px;
        font-weight:900;
        text-align:center;
        color:#ff2a2a;
        text-shadow:
            0 0 10px #ff0000,
            0 0 20px #ff0000,
            0 0 40px #ff0000;
    }

    /* CONTENITORE PRINCIPALE */
    #main{
        width:90%;
        max-width:1100px;
        margin:20px auto;
        padding-top:20px;
    }

    /* CARD STATISTICHE */
    .cardRow{
        display:flex;
        justify-content:space-between;
        gap:15px;
        margin-bottom:25px;
    }

    .card{
        flex:1;
        background:rgba(10,10,10,0.55);
        border:1px solid rgba(255,60,60,0.45);
        border-radius:14px;
        padding:15px;
        backdrop-filter:blur(4px);
        box-shadow:0 0 12px rgba(255,40,40,0.45);
        transition:0.2s;
    }

    .card:hover{
        box-shadow:0 0 22px rgba(255,80,80,0.85);
        transform:translateY(-3px);
    }

    .card label{
        font-size:12px;
        color:#ffaaaa;
        font-weight:700;
        text-transform:uppercase;
        letter-spacing:1px;
    }

    .card .value{
        font-size:20px;
        font-weight:900;
        margin-top:5px;
        color:#ff3b3b;
        text-shadow:0 0 10px #ff0000;
    }

    /* TABELLA TRANSAZIONI */
    table{
        width:100%;
        margin-top:15px;
        border-collapse:collapse;
        background:rgba(0,0,0,0.55);
        backdrop-filter:blur(4px);
        border-radius:12px;
        overflow:hidden;
        border:1px solid rgba(255,40,40,0.45);
        box-shadow:0 0 12px rgba(255,30,30,0.55);
    }

    table thead{
        background:rgba(50,0,0,0.55);
    }

    table th{
        padding:12px;
        text-align:left;
        font-size:13px;
        color:#ff8080;
        text-transform:uppercase;
        font-weight:700;
    }

    table td{
        padding:10px;
        border-bottom:1px solid rgba(255,40,40,0.25);
        font-size:14px;
    }

    tr:hover{
        background:rgba(255,40,40,0.10);
    }

    .link{
        color:#ff5555;
        font-weight:700;
        text-decoration:none;
        text-shadow:0 0 10px #ff0000;
    }

    .link:hover{
        color:#ffffff;
    }

</style>
</head>


<body>

<!-- VIDEO SFONDO -->
<video id="bgvid" autoplay muted loop playsinline>
    <source src="burn.mp4" type="video/mp4">
</video>

<div id="overlay"></div>

<header>
    <img id="logoLeft" class="logo" src="nummus.png">
    <h1>NUMMUS BURN — LIVE</h1>
    <img id="logoRight" class="logo" src="nummus.png">
</header>

<div id="main">

    <!-- CARDS -->
    <div class="cardRow">
        <div class="card">
            <label>Total Burned</label>
            <div class="value" id="burnTotal">—</div>
        </div>

        <div class="card">
            <label>Total Burned USD</label>
            <div class="value" id="burnUSD">—</div>
        </div>

        <div class="card">
            <label>Total Supply</label>
            <div class="value" id="supply">—</div>
        </div>

        <div class="card">
            <label>Nummus Price</label>
            <div class="value" id="priceNummus">—</div>
            <label style="margin-top:10px;">Last Update</label>
            <div class="value" id="update">—</div>
        </div>
    </div>

    <!-- TABELLA -->
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Amount Burned</th>
                <th>Transaction</th>
            </tr>
        </thead>
        <tbody id="burnRows">
            <tr><td colspan="3" style="text-align:center;padding:20px;">Loading…</td></tr>
        </tbody>
    </table>

</div>

<script>
/* CARICAMENTO DATI */
async function loadData(){
    try{
        const burn = await fetch("data/burn.json").then(r=>r.json());
        const price = await fetch("data/price.json").then(r=>r.json());

        // CARDS
        document.getElementById("burnTotal").textContent =
            Number(burn.totalUi).toLocaleString();

        document.getElementById("burnUSD").textContent =
            Number(price.burnTotalUsd).toLocaleString("en-US",{style:"currency",currency:"USD"});

        document.getElementById("supply").textContent =
            Number(price.totalSupplyTokensNum).toLocaleString();

        document.getElementById("priceNummus").textContent =
            Number(price.priceUsd).toFixed(6)+" USD";

        document.getElementById("update").textContent =
            price.updatedAt ? new Date(price.updatedAt).toLocaleString() : "—";

        // TABELLA
        const tbody = document.getElementById("burnRows");
        tbody.innerHTML = "";

        burn.burns.forEach((b,i)=>{
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${i+1}</td>
                <td>${Number(b.amountUi).toLocaleString()}</td>
                <td><a class="link" href="${b.url}" target="_blank">Solscan</a></td>
            `;
            tbody.appendChild(tr);
        });

    }catch(e){
        console.error(e);
    }
}

loadData();
setInterval(loadData, 60000);
</script>

</body>
</html>
