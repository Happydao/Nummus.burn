<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>NUMMUS BURN — Live</title>

<!-- FONT ROMANO CINZEL -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&display=swap" rel="stylesheet">

<style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
        font-family:'Cinzel', serif;
        color:#fff;
        background:black;
        overflow-x:hidden;
    }

    /* VIDEO SFONDO */
    #bgvid{
        position:fixed;
        top:0;left:0;
        width:100vw;
        height:100vh;
        object-fit:cover;
        z-index:-3;
        filter:brightness(0.55) contrast(1.3);
    }

    /* OVERLAY */
    #overlay{
        position:fixed;
        top:0;left:0;
        width:100vw;height:100vh;
        background:rgba(0,0,0,0.45);
        z-index:-2;
    }

    /* HEADER CARD */
    .titleCard{
        width:90%;
        max-width:900px;
        margin:25px auto 10px auto;
        background:rgba(20,20,20,0.65);
        border:2px solid rgba(200,160,90,0.7);
        border-radius:18px;
        padding:20px;
        text-align:center;
        position:relative;
        backdrop-filter:blur(4px);
        transition:0.2s;
        box-shadow:0 0 18px rgba(0,0,0,0.7);
    }
    .titleCard:hover{
        border-color:#ff2a2a;
        box-shadow:0 0 20px #ff0000;
    }

    .title{
        font-size:36px;
        font-weight:800;
        color:#f2e7c9;
        letter-spacing:2px;
        text-shadow:0 0 6px rgba(255,255,255,0.15);
    }

    /* LOGHI */
    .logo{
        width:110px;
        height:110px;
        object-fit:contain;
        position:absolute;
        top:50%;
        transform:translateY(-50%);
        filter:drop-shadow(0 0 6px #ff0000);
        animation:glow 1.6s infinite alternate ease-in-out;
    }

    @keyframes glow{
        0%{filter:drop-shadow(0 0 6px #ff0000) brightness(1);}
        100%{filter:drop-shadow(0 0 18px #ff3b00) brightness(1.15);}
    }

    #logoLeft{left:-130px;}
    #logoRight{right:-130px;}

    /* Per mobile: loghi più vicini e più piccoli */
    @media(max-width:750px){
        #logoLeft{
            left:-90px;
            width:80px;height:80px;
        }
        #logoRight{
            right:-90px;
            width:80px;height:80px;
        }
        .title{font-size:27px;}
    }

    /* GITHUB BADGE */
    #githubBtn{
        position:fixed;
        top:15px;
        right:15px;
        background:rgba(30,30,30,0.7);
        border:1px solid rgba(255,255,255,0.3);
        padding:8px 12px;
        border-radius:12px;
        color:#fff;
        text-decoration:none;
        font-size:14px;
        backdrop-filter:blur(3px);
        transition:0.2s;
        z-index:10;
    }
    #githubBtn:hover{
        border-color:#ff2a2a;
        color:#ff2a2a;
    }

    /* MAIN WRAPPER */
    #main{
        width:92%;
        max-width:1200px;
        margin:20px auto;
    }

    /* CARDS */
    .cards{
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
        gap:18px;
        margin-top:20px;
    }

    .card{
        background:rgba(15,15,15,0.6);
        border-radius:14px;
        padding:18px;
        border:2px solid rgba(180,140,70,0.5);
        backdrop-filter:blur(4px);
        box-shadow:0 0 14px rgba(0,0,0,0.6);
        transition:0.2s;
    }
    .card:hover{
        border-color:#ff2a2a;
        box-shadow:0 0 20px #ff0000;
    }

    .card label{
        font-size:13px;
        color:#e5d7b2;
        font-weight:600;
    }
    .value{
        font-size:22px;
        margin-top:6px;
        font-weight:800;
        color:#fff;
        text-shadow:0 0 6px rgba(255,255,255,0.2);
    }

    /* TABE*/
    table{
        width:100%;
        margin-top:30px;
        border-collapse:collapse;
        background:rgba(15,15,15,0.55);
        border-radius:14px;
        overflow:hidden;
        border:2px solid rgba(180,140,70,0.5);
        box-shadow:0 0 15px rgba(0,0,0,0.5);
        backdrop-filter:blur(3px);
    }

    table thead{
        background:rgba(60,40,20,0.35);
    }

    th{
        padding:12px;
        text-align:left;
        font-size:14px;
        color:#e5d7b2;
    }

    td{
        padding:10px;
        border-bottom:1px solid rgba(180,140,70,0.25);
        font-size:15px;
        color:#fff;
    }

    tr:hover{
        background:rgba(255,40,40,0.10);
    }

    .link{
        color:#ff3b3b;
        text-decoration:none;
        font-weight:700;
    }
    .link:hover{
        color:#fff;
    }

</style>
</head>

<body>

<!-- VIDEO SFONDO -->
<video id="bgvid" autoplay muted loop playsinline>
    <source src="/burn.mp4" type="video/mp4">
</video>
<div id="overlay"></div>

<!-- GITHUB -->
<a id="githubBtn" href="https://github.com/Happydao/Nummus.burn" target="_blank">GitHub</a>

<!-- TITOLO IN CARD -->
<div class="titleCard">
    <img src="/nummus.png" id="logoLeft" class="logo">
    <img src="/nummus.png" id="logoRight" class="logo">
    <div class="title">NUMMUS — BURN LIVE</div>
</div>

<div id="main">

    <!-- CARDS -->
    <div class="cards">

        <div class="card">
            <label>Total Burned</label>
            <div class="value" id="burnTotal">—</div>
        </div>

        <div class="card">
            <label>Total Burned USD</label>
            <div class="value" id="burnUSD">—</div>
        </div>

        <div class="card">
            <label>Total Supply</label>
            <div class="value" id="supply">—</div>
        </div>

        <div class="card">
            <label>Nummus Price</label>
            <div class="value" id="priceNummus">—</div>
            <label style="display:block;margin-top:12px;">Last Update</label>
            <div class="value" id="update">—</div>
        </div>

        <div class="card">
            <label>Burn Address</label>
            <div class="value">
                <a class="link" href="https://solscan.io/account/5G62fW1BuK6k9B6sGwvTBtoKRPseshj9SSYPzudSPUYE" target="_blank">
                    5G62fW1B…SPUYE
                </a>
            </div>
        </div>

    </div>

    <!-- TABELLA -->
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Amount Burned</th>
                <th>Transaction</th>
            </tr>
        </thead>
        <tbody id="burnRows">
            <tr><td colspan="3" style="padding:20px;text-align:center;">Loading…</td></tr>
        </tbody>
    </table>

</div>

<script>
/* CARICAMENTO DATI */
async function loadData(){
    try{
        const burn = await fetch("data/burn.json").then(r=>r.json());
        const price = await fetch("data/price.json").then(r=>r.json());

        // CARDS
        document.getElementById("burnTotal").textContent =
            Number(burn.totalUi).toLocaleString();

        document.getElementById("burnUSD").textContent =
            Number(price.burnTotalUsd).toLocaleString("en-US",{style:"currency",currency:"USD"});

        document.getElementById("supply").textContent =
            Number(price.totalSupplyTokensNum).toLocaleString();

        document.getElementById("priceNummus").textContent =
            Number(price.priceUsd).toFixed(6)+" USD";

        document.getElementById("update").textContent =
            price.updatedAt ? new Date(price.updatedAt).toLocaleString() : "—";

        // TABELLA
        const tbody = document.getElementById("burnRows");
        tbody.innerHTML = "";

        burn.burns.forEach((b,i)=>{
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${i+1}</td>
                <td>${Number(b.amountUi).toLocaleString()}</td>
                <td><a class="link" href="${b.url}" target="_blank">Solscan</a></td>
            `;
            tbody.appendChild(tr);
        });

    }catch(e){
        console.error(e);
    }
}

loadData();
setInterval(loadData, 60000);
</script>

</body>
</html>
